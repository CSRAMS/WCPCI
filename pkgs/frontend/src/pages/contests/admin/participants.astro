---
import ContestLayout from "@/layouts/ContestLayout.astro";
import UserAdminTable from "@/components/table/UserAdminTable.astro";
import { variable } from "@/lib/tera";
import BreadCrumb from "@/components/BreadCrumb.astro";
import Variable from "@/components/tera/Variable.astro";
import Title from "@/components/Title.astro";
---

<ContestLayout
    showAdminVar="true"
    noIndex
    makeTile
    title="Participants"
    path=`/contests/${variable("contest.id")}/admin/participants`
>
    <BreadCrumb
        entries={[
            ["Contests", "/contests"],
            [variable("contest.name"), `/contests/${variable("contest.id")}`],
            ["Admin", `/contests/${variable("contest.id")}/admin`],
            ["Participants", `/contests/${variable("contest.id")}/admin/participants`]
        ]}
    />
    <Title>Participants in <Variable expression="contest.name" /></Title>
    <UserAdminTable
        idColName="user.id"
        listName="participants"
        userVar="user"
        actions={[
            {
                name: "Kick",
                action: (_id) =>
                    `/contests/${variable("contest.id")}/admin/participants/${variable("da_user.participant.p_id")}/kick`,
                icon: "tabler:shoe",
                color: "danger"
            }
        ]}
        addCols={[
            {
                name: "participant.p_id",
                label: "Participant ID"
            }
        ]}
    />
</ContestLayout>
